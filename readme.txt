			K Input Method Editor v0.1.1

0. 소개

  이 프로그램은 한국어용으로 제작되지 않은 OS/2 에서 제한적으로 한글을
입력할 수 있도록 해주는 프로그램입니다. 아울러, Ztelnet 에서 세벌식 390
자판을 쓸 수 있도록 해줍니다.

1. 제작 환경 

  - 한국어판 OS/2 Warp 4 with FixPak #5

  - EMX 0.9d fix #4 + gcc 2.8.1
  
2. 실행에 필요한 환경

  한글 입력이 가능하기 위해서는 적어도 한글 출력이 가능해야 합니다.
특히 코드페이지 949 가 지원 가능해야 합니다. 다행히 Warp 4 FixPak #5
부터 모든 코드페이지가 지원됩니다.
  CONFIG.SYS 에서 다음 줄을 찾아서 코드페이지 949 를 추가해주셔야 합
니다.

	CODEPAGE=850,437     
에서
	CODEPAGE=850,949

이렇게 바꾸시면 됩니다. 물론 주코드페이지를 949 로 맞추어도 되지만,
시스템 폴더를 쓰지 못하든지하는 문제가 생길 수 있습니다. 그리고 코드
페이지와 관련된 기능이 제대로 작동하지 않을 수도 있으니, 보조코드페
이지로 맞추어 놓고 쓰시기 바랍니다.

그리고 한글 출력을 위해서는 당연히 한글 글꼴이 필요합니다. OS/2 에서
사용가능한 한글 글꼴을 등록하셔야 합니다. 자료실에 보면 Times New Roman
WT-K 글꼴이 있는데, 임시로 이 글꼴을 쓰셔도 됩니다.

이정도의 조건을 갖추고 있으면 기본적인 환경은 마련한 셈입니다.

그리고 당연히 프로그램이 실행이 될 때는 코드페이지 949 에서 실행이 되
어야 합니다. 다음과 같은 배치 파일이 도움이 될 수 있을 것입니다.

---------- 949run.cmd
@echo off
chcp 949
start /n /f %1 %2 %3 %4 %5 %6 %7 %8 %9
chcp 850
----------

2-1. 테스트 환경

  이 프로그램은 영어판 WSeB FixPak #2 와 한국어판 Warp 4 FixPak #5 에서
테스트되었습니다. 한국어판 워프에서도 기존 IME 와 충돌없이 쓸 수 있습니다.

3. 기능

  - 사용하는 키보드 자판에 상관없이 한글 입력이 가능합니다.
  
  - 두벌식, 세벌식 390, 세벌식 최종 자판을 지원합니다.
    단, Ztelnet 에서는 세벌식 최종 자판은 지원되지 않습니다.
  
  - 한글 입력 상태를 윈도별로 관리합니다.
  
  - 한글 입력이 필요없는 프로그램을 지정할 수 있습니다.

  - Ztelnet 을 쓸 때, 한글 입력 상태에서 채팅 라인을 쓸 때 사이띄우개를 
    두번 눌러야 하는 벌레를 패치합니다
    
  - On The Spot 형태의 입력을 지원합니다.
  
  - 글꼴 연관 기능을 제공합니다.
  
  - 특수문자/한자 입력을 지원합니다.
 
4. 설치

  압축 파일을 아무 디렉토리에다 풀면 됩니다. ^^ 단, kimehook.dll 은 LIBPATH 
가 지정되어 있는 디렉토리에 넣어두면 됩니다.
  
5. 사용법
  
  WPS 나 명령행에서 kime.exe 를 실행시키면 됩니다.
  
5-1. 사용되는 단축키

  Shift-Space : KIME 의 한/영 상태를 변환합니다.
  Ctrl-Space  : KIME 의 한글 자판을 변환합니다.
                단, Ztelnet 에서는 한/영 상태를 강제 변환합니다.
  Ctrl-F3     : Ztelnet 에서 글자/라인 상태를 강제 변환합니다.
  오른쪽 CTRL : 한글을 입력하고 있을 때는 '한자' 입력 대화상자가 나타나고,
                한글을 입력하고 있지 않을 때는 '특수문자' 입력 대화상자가
                나타납니다.
  
5-2. 사용되는 마우스 기능

  오른쪽 버튼 : 팝업 메뉴가 나타납니다.
  왼  쪽 버튼 : 한/영 또는 글자/라인 상태를 변환시킵니다.
  
5-3. 메뉴

  Hide    : KIME 상태 상자를 숨깁니다.
  Options : KIME 의 설정을 바꿉니다.
  Exit    : KIME 의 실행을 끝냅니다.
   
5-4. 명령행 옵션

  "--kbd390"      : KIME 을 세벌식 390 자판으로 시작합니다.
  "--kbd3f"       : KIME 을 세벌식 최종 자판으로 시작합니다.
  "--no-3bul"     : Ztelnet 에서 세벌식 패치를 하지 않습니다.
  "--no-chatline" : Ztelnet 에서 채팅 라인 패치를 하지 않습니다.
  "--hanjafont"   : KIME 에서 한자 입력을 지원하기 위한 한자 글꼴을 
                    설정합니다.
                    한자 글꼴은 HanEdit/2 에서 쓸 수 있는 글꼴이면
                    모두 가능합니다. 

5-5. KIMEOPT 환경 변수
  명령행 옵션을 이용하지 않고, KIMEOPT 라는 환경 변수를 이용할 수도 있
습니다. KIMEOPT=--kbd390 가 설정된 상태에서 KIME 를 실행하는 것은 
	KIME --kbd390
으로 실행시킨 것과 같은 효과를 나타냅니다.        
        
6. 제한 사항 또는 알려진 벌레

  - 어느 윈도의 클래스 이름이 "ClientWindowClass" 일 경우, KIME 이 오동작을 할 
    수 있습니다.
    Ztelnet 의 클라이언트 윈도의 클래스 이름이 "ClientWindowClass" 이고, KIME
    에서 현재 윈도가 Ztelnet 인지 판단하기 위해 윈도의 클래스 이름을 쓰기 때문
    입니다.
    
  - Ztelnet 세션과 KIME 사이에 한/영 및 글자/라인 상태 동기화가 이루어지지 
    않을 수 있습니다.
    이것은 Ztelnet 이 접속되어 있지 않은 경우, 키입력을 처리하지 않지만, 
    KIME 에서는 접속 여부를 확인할 수 없기 때문에 일어나는 문제입니다. 따라서,
    KIME 의 상태를 강제로 변환시켜야 합니다.

  - Ztelnet 에서 세벌식으로 입력할 때 도깨비불 현상이 나타납니다.
    기본적으로 두벌식 입력 방식에 키맵핑 형식으로 세벌식 입력을 구현하였기 
    때문에 나타나는 현상입니다.
      
  - 넷스케이프에서 한글을 입력하는 도중에 방향키 또는 엔터기를 누르면
    키처리 후에 한글이 입력됩니다.
    
  - 현재 입력하고 있는 윈도의 코드 페이지 확인을 하지 못하기 때문에, 949 이외
    의 코드페이지에서도 한글 입력을 시도합니다. 당연히 입력된 한글이 제대로 
    처리되지 않습니다.   
    
  - 입력 포커스가 바뀌더라도 상태창이 그에 맞게 바뀌지 않습니다. 이 때문에
    한글 입력에 혼란이 생길 수 있습니다.
    이 문제는 입력 포커스를 받고 있는 윈도와 실제로 입력이 이루어지는 윈도를
    정확히 판별하지 못해서 생기는 현상인데, 저도 왜 그런지 모르겠습니다. ㅠ.ㅠ
      
  - 가상키( Alt, Ctrl, Shift, Fxx ) 를 누르면 상태창이 나타납니다.
  
  - 예외 목록 파일은 현재 작업 디렉토리를 기준으로 처리합니다.

  - 상태창을 이용해서 한/영 또는 글자/라인 상태를 변환시킬 수 없습니다.  

  - PM 상에서만 한글 입력이 지원됩니다.

  - 특수문자/한자를 입력을 할 때 입력 창이 바뀌어도 특수문자/한자 입력창이
    사라지지 않는다.

  - 포커스를 새로 얻을 때 전체 선택 기능이 있는 컨트롤에서 특수문자/한자 입력을
    하면 기존의 내용이 모두 사라지고, 새로 입력한 특수문자/한자만 남는다.
        예. 넷스케이프 Location 부분

  - 유니코드 글꼴은 글꼴연관에 쓰일 수 없습니다.
    단, FreeType/2 한글 지원판에서는 글꼴연관에 유니코드 글꼴을 쓸 수 있습니다.
    
7. 할 것들

  - 상태창을 통한 입력 상태 바꾸기
  
8. 예외 목록 파일

  예외 목록 파일이란 일부 자체 한글 프로그램에서 한글 변환을 위해서 쓰는
키가 KIME 가 겹치는 경우가 있는데, 이런 혼동을 피하기 위해서 또는 한글입
력이 필요 없는 프로그램에서 아예 한글 입력을 막기 위해서 해당 프로그램 
이름을 적어 놓은 파일입니다.  

  예외 목록 파일은 KIME 이 있는 디렉토리에 EXCEPT.DAT 라는 텍스트 파일이
기 때문에, 일반 텍스트 에디터로 편집하면 됩니다. 편집 방법은 KIME 이 입
력을 시도하지 않아야 하는 프로그램의 이름을 줄단위로 적어주면 됩니다.

  참고로, 기본적으로 EXCEPT.DAT 에는 다음의 내용이 있습니다.

---------- EXCEPT.DAT
HANEDIT.EXE
HWPPM.EXE
FOOL.EXE
ZTELNET.EXE
MED.EXE
VPC.EXE
----------  

9. 판번호 보기
  - v0.1.1 ( 2002/01/25 )
    .TaskList 에 KIME 을 등록하지 않습니다. 따라서 TaskList 와 관련된
     문제들이 나타나지 않습니다.
    .Ztelnet 으로 입력 초점이 바뀌고나면, 다른 윈도의 한글 입력상태가
     Ztelnet 과 같은 한글 입력 상태로 변하는 것을 고쳤습니다.
    .Ctrl 글쇠 조합이 있을 때, 특수문자 입력창이 나타나는 것을 고쳤습
     니다. 단, Alt/Shift 글쇠를 제외한 나머지 글쇠를 누른 후 마지막에
     Ctrl 글쇠를 누르면 여전히 특수문자 입력창이 나타납니다. 
         예. \ + Ctrl.
              
  - v0.1.0 ( 2001/11/27 )
    .특수문자/한자 입력을 지원합니다.
    .글꼴연관을 설정할 수 있습니다.
    .한글 입력 상태에서 함수키(Fxx)가 처리되지 못하는 것을 고쳤습니다.
    
  - v0.0.0 ( 2001/11/08 )
    .PM 에서 한글을 입력할 수 있고, KZP 의 기능을 통합했습니다.
          
10. 소스 컴파일 하기
  
  소스를 컴파일 하기 위해서는 EMX 0.9d fix #4 + gcc 2.8.1 이 필요하며, 사용된 
Make 프로그램은 DMake v4.00 와 GNU Make 3.76.1 입니다.

  hanlib 과 hchlb 는 GNU Make 로, kime 은 DMake 로 컴파일 해야 합니다. 루트에
있는 build.cmd 를 이용하시면 바로 컴파일 됩니다.  
      
11. 하고 싶은 말

  이 프로그램은 문유성(kwisatz)님께서 만드신 한글 입력 루틴 HIA 를 이용해서
만들어졌습니다. 매번 느끼는 것이지만, 유성님의 탁월한 설계 능력에 감탄합니다.
다시 한 번 감사드립니다. 그리고 저에게 WSeB 환경을 제공해 주셔서, KIME 을 시
험해 볼 수 있는 환경을 제공해 주신 최민순(josuwa77)님께도 깊은 감사의 말씀을
드립니다.
  
  어쨌든, 한국 IBM 이 이제라도 정신차리고 한국어판 OS/2 를 계속해서 지원해주
었으면 하는 바램입니다. 괜히 성수님 고생시키지 말고 말이져... ^^
  
12. 하고 싶은 말이 있을 때...

  e-mail         : komh@chollian.net
  하이텔, 천리안 : komh

                                                  만든이 : 고명훈
                                                  